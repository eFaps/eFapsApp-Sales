<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Sales_PaymentDocumentReport" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true" uuid="d52d074f-e544-4a9c-a394-1c296b0faa32">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="org.efaps.admin.datamodel.ui.DecimalUI"/>
	<import value="org.efaps.number2words.Converter"/>
	<parameter name="EFAPS_DEFINITION" class="java.lang.String" isForPrompting="false">
		<property name="UUID" value="88b0373f-671b-487b-9adf-0af1384350b2"/>
		<property name="Instance" value="true"/>
		<property name="hasSubReport" value="true"/>
	</parameter>
	<parameter name="EFAPS_SUBREPORT" class="java.util.HashMap"/>
	<parameter name="accountName" class="java.lang.String"/>
	<parameter name="accountCurrencyName" class="java.lang.String"/>
	<parameter name="CompanyName" class="java.lang.String"/>
	<parameter name="CompanyTaxNum" class="java.lang.String"/>
	<parameter name="ClientOrSupplier" class="java.lang.String"/>
	<field name="date" class="org.joda.time.DateTime">
		<property name="Select" value="attribute[Date]"/>
	</field>
	<field name="rate" class="java.math.BigDecimal">
		<property name="Select" value="attribute[Rate].label"/>
	</field>
	<field name="contactName" class="java.lang.String">
		<property name="Select" value="linkto[Contact].attribute[Name]"/>
	</field>
	<field name="currencyName" class="java.lang.String">
		<property name="Select" value="linkto[RateCurrencyLink].attribute[Name]"/>
	</field>
	<field name="note" class="java.lang.String">
		<property name="Select" value="attribute[Note]"/>
	</field>
	<field name="name" class="java.lang.String">
		<property name="Select" value="attribute[Name]"/>
	</field>
	<field name="amount" class="java.math.BigDecimal">
		<property name="Select" value="attribute[Amount]"/>
	</field>
	<field name="code" class="java.lang.String">
		<property name="Select" value="attribute[Code]"/>
	</field>
	<field name="type" class="java.lang.String">
		<property name="Select" value="type.label"/>
	</field>
	<pageHeader>
		<band height="90">
			<staticText>
				<reportElement uuid="c9b1639c-3747-482c-a7a5-826a5d7f17a5" x="0" y="40" width="70" height="20">
					<printWhenExpression><![CDATA[$P{CompanyName} != null]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Empresa:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="3a34f343-8843-42d3-8cbf-11d4ac65eda8" x="0" y="60" width="70" height="20">
					<printWhenExpression><![CDATA[$P{CompanyTaxNum} != null]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[R.U.C.:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="bf287c4d-79a6-45ad-9050-ce8ed99d048e" x="70" y="40" width="210" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{CompanyName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="59db75b9-42ce-4c4a-8255-2099ad884ae2" x="70" y="60" width="210" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{CompanyTaxNum}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="160">
			<textField>
				<reportElement uuid="24639b69-1ac2-403f-8633-0f15ce393de5" x="0" y="15" width="242" height="20"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{type} + " - " + $F{name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement uuid="343a88d1-21b3-4175-a550-f5833eeb2bf3" stretchType="RelativeToTallestObject" x="70" y="40" width="100" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{date}.toDate()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.0000" isBlankWhenNull="true">
				<reportElement uuid="bac2d87a-b281-4422-9149-434dda530475" stretchType="RelativeToTallestObject" x="364" y="60" width="102" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{rate}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="2c9cca4b-1e7f-4647-8125-e9b9aba23a66" stretchType="RelativeToTallestObject" x="70" y="60" width="190" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{contactName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="5a914ba1-67fc-49f1-923c-aa0f6d76c81f" stretchType="RelativeToTallestObject" x="70" y="80" width="190" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$P{accountName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="3020349f-aadd-4baf-9742-0d317dad4011" stretchType="RelativeToTallestObject" x="260" y="80" width="206" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$P{accountCurrencyName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="54612e49-0205-4a12-a5f7-081dd1e3cbe5" stretchType="RelativeToTallestObject" x="70" y="100" width="396" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{currencyName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="fd32ac6f-04d6-4ee0-a5ee-2dbcebb2b8e8" stretchType="RelativeToTallestObject" x="70" y="140" width="396" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{note}]]></textFieldExpression>
			</textField>
            <textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="aa97391b-0bbe-4bc2-b50e-a082d7d82a37" stretchType="RelativeToTallestObject" x="364" y="40" width="102" height="15"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{code}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="d15d3065-bd5f-411f-a046-6f77a256401f" x="0" y="40" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[EMISIÓN]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="9d20107e-5b59-4af1-8e1b-fc4fe1f10b85" x="0" y="80" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[CUENTA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="73bfd9b2-e3b5-4586-b768-511771b5e522" x="0" y="100" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[DIVISA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="621cde14-64cf-4afb-8e96-414143bbcfae" x="0" y="140" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[CONCEPTO]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="ef870b45-886c-4c39-a82d-d9f5d1e1dea3" x="260" y="60" width="66" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[T / CAMBIO]]></text>
			</staticText>
			<textField>
				<reportElement uuid="6a74f7df-441a-4f50-855b-89e9750d854b" x="0" y="60" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ClientOrSupplier} == null ? "CLIENTE" : $P{ClientOrSupplier}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="fc1195a2-a567-4110-b02d-f99c1b267b35" x="260" y="40" width="104" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[N° DE OPERACIÓN]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<subreport isUsingCache="false">
				<reportElement uuid="0f249bf2-0682-4b37-ad3f-00c18b204767" stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20"/>
				<subreportParameter name="EFAPS_DEFINITION"/>
				<subreportParameter name="ClientOrSupplier">
					<subreportParameterExpression><![CDATA[$P{ClientOrSupplier}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[$P{EFAPS_SUBREPORT}.get("Sales_PaymentDocumentPosition")]]></dataSourceExpression>
				<subreportExpression><![CDATA["JasperReport.Sales_PaymentDocumentPosition"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band height="52">
			<staticText>
				<reportElement uuid="1290b50f-d8dd-4730-8ef1-2618e375ddb1" x="380" y="10" width="70" height="15"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="b985791b-8158-4d1e-b26f-f32caf23bdca" x="450" y="10" width="105" height="15"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{amount}.setScale(2, BigDecimal.ROUND_HALF_UP)]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="213"/>
	</pageFooter>
</jasperReport>
